---
interface NavItem {
  label: string;
  href: string;
}

interface Props {
  logoText?: string;
  navItems?: NavItem[];
  currentPath?: string;
}

const defaultNavItems: NavItem[] = [
  { label: 'Home', href: '/' },
  { label: 'About', href: '/about' },
  { label: 'Components Demo', href: '/components' },
  { label: 'Storybook Demo', href: 'https://demo.storybook-astro.org' },
  { label: 'Contribute', href: '/contribute' },
];

const {
  logoText = 'Storybook Astro',
  navItems = defaultNavItems,
  currentPath = Astro.url.pathname,
} = Astro.props;

function isActive(href: string, current: string): boolean {
  if (href === '/') {return current === '/';}
  
return current === href || current === `${href}/`;
}
---

<header>
  <div class="header-content">
    <a href="/" class="logo">{logoText}</a>
    <nav>
      {navItems.map((item) => (
        <a href={item.href} class:list={[{ active: isActive(item.href, currentPath) }]}>
          {item.label}
        </a>
      ))}
    </nav>
  </div>
</header>

<style>
  header {
    width: 100%;
    padding: 1.25rem 0;
    border-bottom: 1px solid rgba(48, 54, 61, 0.6);
    background: rgba(13, 17, 23, 0.8);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .header-content {
    max-width: 1260px;
    margin: 0 auto;
    padding: 0 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 2rem;
  }

  .logo {
    font-size: 1.25rem;
    font-weight: 700;
    color: #f0f6fc;
    text-decoration: none;
    white-space: nowrap;
    letter-spacing: -0.02em;
  }

  .logo:hover {
    color: #58a6ff;
  }

  nav {
    display: flex;
    gap: 1.75rem;
    align-items: center;
  }

  nav a {
    color: #8b949e;
    text-decoration: none;
    font-weight: 500;
    font-size: 0.9rem;
    transition: color 0.2s ease;
    white-space: nowrap;
  }

  nav a:hover {
    color: #f0f6fc;
  }

  nav a.active {
    color: #f0f6fc;
  }

  @media (max-width: 768px) {
    .header-content {
      flex-direction: column;
      gap: 1rem;
      align-items: flex-start;
    }

    nav {
      gap: 1rem;
      width: 100%;
      flex-wrap: wrap;
    }

    nav a {
      font-size: 0.875rem;
    }
  }
</style>
